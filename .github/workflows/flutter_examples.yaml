name: flutter_examples

on:
  push:
    paths:
      - ".github/workflows/flutter_examples.yaml"
      - "examples/profile_accounts/**"

  pull_request:
    paths:
      - ".github/workflows/flutter_examples.yaml"
      - "examples/profile_accounts/**"

jobs:
  examples:
    strategy:
      matrix:
        folder:
          [
            "examples/profile_accounts",
          ]
      fail-fast: false
    runs-on: ubuntu-latest
    steps:
      - uses: VeryGoodOpenSource/very_good_workflows/.github/workflows/flutter_package.yml@v1
        with:
          coverage_excludes: "*.g.dart"
          flutter_channel: "stable"
          working_directory: ${{matrix.folder}}
          test_recursion: true  